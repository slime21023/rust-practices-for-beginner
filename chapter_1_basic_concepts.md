# ç¬¬ä¸€ç«  - Rust åŸºç¤å…¥é–€

æ­¡è¿ä¾†åˆ° Rust ç¨‹å¼èªè¨€çš„ä¸–ç•Œï¼æœ¬ç« å°‡å¸¶æ‚¨èªè­˜ Rust æœ€æ ¸å¿ƒçš„åŸºç¤æ¦‚å¿µï¼ŒåŒ…æ‹¬å‡½å¼ã€è®Šæ•¸å’ŒåŸºæœ¬è³‡æ–™å‹æ…‹ã€‚é€™äº›æ˜¯å­¸ç¿’ Rust çš„åŸºçŸ³ï¼Œä¹Ÿæ˜¯å¾ŒçºŒç« ç¯€çš„é‡è¦åŸºç¤ã€‚

## 1. å‡½å¼ (Functions)

**è¨­è¨ˆç†å¿µèˆ‡é‡è¦æ€§**

å‡½å¼æ˜¯ Rust ç¨‹å¼çš„åŸºæœ¬å»ºæ§‹å¡Šï¼Œå®ƒå€‘è®“ç¨‹å¼ç¢¼æ›´æ¨¡çµ„åŒ–ã€å¯é‡ç”¨ä¸”æ˜“æ–¼ç¶­è­·ã€‚Rust çš„å‡½å¼è¨­è¨ˆç‰¹åˆ¥å¼·èª¿ï¼š

- **è¡¨é”å¼ç‚ºæœ¬**ï¼šRust æ˜¯åŸºæ–¼è¡¨é”å¼çš„èªè¨€ï¼Œé€™å½±éŸ¿äº†å‡½å¼çš„å¯«æ³•
- **æ˜ç¢ºçš„å‹åˆ¥ç³»çµ±**ï¼šéœæ…‹å‹åˆ¥æª¢æŸ¥åœ¨ç·¨è­¯æ™‚æ•ç²éŒ¯èª¤
- **æ‰€æœ‰æ¬Šç³»çµ±**ï¼šç®¡ç†è¨˜æ†¶é«”å®‰å…¨ï¼Œç„¡éœ€åƒåœ¾å›æ”¶

**èªæ³•è¦é»**

```rust
// åŸºæœ¬å‡½å¼å®šç¾©
fn greet() {
    println!("Hello, Rust!");
}

// å¸¶åƒæ•¸å’Œè¿”å›å€¼çš„å‡½å¼
fn add(a: i32, b: i32) -> i32 {
    a + b  // æ³¨æ„ï¼šæ²’æœ‰åˆ†è™Ÿï¼Œé€™æ˜¯ä¸€å€‹è¡¨é”å¼
}

// å¤šå€‹åƒæ•¸
fn print_sum(a: i32, b: i32) {
    println!("{} + {} = {}", a, b, a + b);
}

// æå‰è¿”å›
fn is_even(num: i32) -> bool {
    if num % 2 == 0 {
        return true;  // ä½¿ç”¨ return æå‰è¿”å›
    }
    false
}
```

**é—œéµç‰¹æ€§èªªæ˜**

1. **åƒæ•¸å‹åˆ¥è¨»è§£**
   - å¿…é ˆæ˜ç¢ºæŒ‡å®šåƒæ•¸å‹åˆ¥
   - ä¾‹å¦‚ï¼š`fn add(a: i32, b: i32)`

2. **è¿”å›å€¼**
   - ä½¿ç”¨ `->` æŒ‡å®šè¿”å›å‹åˆ¥
   - æœ€å¾Œä¸€å€‹è¡¨é”å¼æœƒè‡ªå‹•è¿”å›
   - ä½¿ç”¨ `return` é—œéµå­—å¯ä»¥æå‰è¿”å›

3. **è¡¨é”å¼ vs èªå¥**
   - è¡¨é”å¼æœƒè¨ˆç®—å‡ºä¸€å€‹å€¼
   - èªå¥ä»¥åˆ†è™Ÿçµå°¾ï¼Œä¸æœƒè¿”å›å€¼

**å¯¦éš›æ‡‰ç”¨**

```rust
// è¨ˆç®—åœ“é¢ç©
fn calculate_circle_area(radius: f64) -> f64 {
    std::f64::consts::PI * radius.powi(2)
}

// æ‰¾å‡ºå…©å€‹æ•¸ä¸­çš„è¼ƒå¤§å€¼
fn max(a: i32, b: i32) -> i32 {
    if a > b { a } else { b }
}
```

**ç·´ç¿’é¡Œ**

1. ç·¨å¯«ä¸€å€‹å‡½å¼ `is_positive`ï¼Œæ¥æ”¶ä¸€å€‹ i32 æ•´æ•¸ï¼Œå¦‚æœæ˜¯æ­£æ•¸è¿”å› `true`ï¼Œå¦å‰‡è¿”å› `false`

2. å¯¦ç¾ä¸€å€‹å‡½å¼ `factorial`ï¼Œè¨ˆç®—çµ¦å®šæ•¸å­—çš„éšä¹˜
   - ä¾‹å¦‚ï¼š`factorial(5)` æ‡‰è©²è¿”å› 120

3. å‰µå»ºä¸€å€‹å‡½å¼ `greet_user`ï¼Œæ¥æ”¶ä¸€å€‹ `&str` é¡å‹çš„åå­—ï¼Œä¸¦å°å‡º "Hello, [åå­—]!" çš„å•å€™èª
   - æç¤ºï¼šä½¿ç”¨ `format!` å·¨é›†ä¾†æ ¼å¼åŒ–å­—ä¸²

## 2. è®Šæ•¸ (Variables)

**è¨­è¨ˆç†å¿µèˆ‡é‡è¦æ€§**

Rust çš„è®Šæ•¸ç³»çµ±è¨­è¨ˆå¼·èª¿å®‰å…¨æ€§å’Œæ˜ç¢ºæ€§ï¼Œä¸»è¦ç‰¹é»åŒ…æ‹¬ï¼š

- **ä¸å¯è®Šæ€§å„ªå…ˆ**ï¼šé è¨­è®Šæ•¸ä¸å¯è®Šï¼Œé¿å…æ„å¤–ä¿®æ”¹
- **æ˜ç¢ºçš„å¯è®Šæ€§**ï¼šä½¿ç”¨ `mut` æ˜ç¢ºæ¨™ç¤ºå¯è®Šè®Šæ•¸
- **å‹åˆ¥å®‰å…¨**ï¼šç·¨è­¯æ™‚æª¢æŸ¥å‹åˆ¥ï¼Œé¿å…åŸ·è¡Œæ™‚éŒ¯èª¤
- **è®Šæ•¸é®è”½**ï¼šå…è¨±é‡æ–°ä½¿ç”¨è®Šæ•¸åï¼ŒåŒæ™‚æ”¹è®Šå…¶å‹åˆ¥æˆ–å€¼

**èªæ³•è¦é»**

```rust
// ä¸å¯è®Šè®Šæ•¸
let x = 5;
// x = 6;  // éŒ¯èª¤ï¼šä¸å¯è®Šè®Šæ•¸ä¸èƒ½ä¿®æ”¹

// å¯è®Šè®Šæ•¸
let mut counter = 0;
counter += 1;  // å¯è®Šè®Šæ•¸å¯ä»¥ä¿®æ”¹

// å¸¸æ•¸ï¼ˆå¿…é ˆæ¨™è¨»å‹åˆ¥ï¼Œå…¨å¤§å¯«å‘½åï¼‰
const MAX_POINTS: u32 = 100_000;

// è®Šæ•¸é®è”½
let x = 5;
let x = x + 1;  // é®è”½å‰ä¸€å€‹ x
let x = "ç¾åœ¨æ˜¯å­—ä¸²";  // å¯ä»¥æ”¹è®Šå‹åˆ¥
```

**é—œéµç‰¹æ€§èªªæ˜**

1. **ä¸å¯è®Šæ€§ (Immutability)**
   - é è¨­è®Šæ•¸ä¸å¯è®Šï¼Œé¿å…æ„å¤–ä¿®æ”¹
   - æé«˜ç¨‹å¼ç¢¼å®‰å…¨æ€§å’Œå¯é æ¸¬æ€§

2. **å¯è®Šæ€§ (Mutability)**
   - ä½¿ç”¨ `mut` é—œéµå­—è²æ˜å¯è®Šè®Šæ•¸
   - æ˜ç¢ºæ¨™ç¤ºå¯èƒ½è®ŠåŒ–çš„ç‹€æ…‹

3. **å¸¸æ•¸ (Constants)**
   - ç·¨è­¯æ™‚å°±ç¢ºå®šçš„å€¼
   - å¿…é ˆæ¨™è¨»å‹åˆ¥
   - å‘½åæ…£ä¾‹ä½¿ç”¨å…¨å¤§å¯«å’Œåº•ç·š

4. **è®Šæ•¸é®è”½ (Shadowing)**
   - å…è¨±é‡è¤‡ä½¿ç”¨è®Šæ•¸å
   - å¯ä»¥æ”¹è®Šè®Šæ•¸çš„å‹åˆ¥
   - ä½œç”¨åŸŸçµæŸå¾Œæ¢å¾©åŸå€¼

**å¯¦éš›æ‡‰ç”¨**

```rust
// è¨ˆç®—åœ“å‘¨é•·å’Œé¢ç©
fn calculate_circle_properties(radius: f64) -> (f64, f64) {
    const PI: f64 = 3.14159;
    let circumference = 2.0 * PI * radius;
    let area = PI * radius.powi(2);
    (circumference, area)
}

// æº«åº¦è½‰æ›
fn fahrenheit_to_celsius(f: f64) -> f64 {
    let c = (f - 32.0) * 5.0/9.0;
    c  // è¿”å›è½‰æ›å¾Œçš„æ”æ°æº«åº¦
}
```

**ç·´ç¿’é¡Œ**

1. å®£å‘Šä¸€å€‹å¯è®Šè®Šæ•¸ `count`ï¼Œåˆå§‹å€¼ç‚º 0ï¼Œç„¶å¾Œå°‡å…¶å¢åŠ  5 ä¸¦å°å‡ºçµæœ

2. ä½¿ç”¨è®Šæ•¸é®è”½å¯¦ç¾ä»¥ä¸‹åŠŸèƒ½ï¼š
   - å®£å‘Šä¸€å€‹è®Šæ•¸ `value` ä¸¦è³¦å€¼ç‚º 10
   - é®è”½ `value` ä¸¦å°‡å…¶è½‰æ›ç‚ºå­—ä¸²
   - å°å‡ºè½‰æ›å¾Œçš„çµæœ

3. ç·¨å¯«ä¸€å€‹å‡½å¼ `swap_values`ï¼Œæ¥æ”¶å…©å€‹ `i32` åƒæ•¸ `a` å’Œ `b`ï¼Œè¿”å›ä¸€å€‹å…ƒçµ„ `(b, a)`
   - æç¤ºï¼šä½¿ç”¨å…ƒçµ„ä¾†äº¤æ›å…©å€‹è®Šæ•¸çš„å€¼

## 3. åŸºæœ¬è³‡æ–™å‹æ…‹ (Primitive Types)

**è¨­è¨ˆç†å¿µèˆ‡é‡è¦æ€§**

Rust çš„å‹åˆ¥ç³»çµ±è¨­è¨ˆæ³¨é‡å®‰å…¨æ€§å’Œæ•ˆç‡ï¼š

- **éœæ…‹å‹åˆ¥**ï¼šæ‰€æœ‰è®Šæ•¸çš„å‹åˆ¥åœ¨ç·¨è­¯æ™‚å°±å·²çŸ¥
- **é›¶æˆæœ¬æŠ½è±¡**ï¼šé«˜éšæŠ½è±¡ä¸æœƒå¸¶ä¾†åŸ·è¡Œæ™‚é–‹éŠ·
- **æ˜ç¢ºçš„æ•¸å€¼é‹ç®—**ï¼šé¿å…éš±å¼è½‰æ›ï¼Œæ¸›å°‘éŒ¯èª¤

### æ•´æ•¸å‹æ…‹ (Integer Types)

| é•·åº¦  | æœ‰ç¬¦è™Ÿ | ç„¡ç¬¦è™Ÿ | ç¯„åœ |
|------|-------|-------|------|
| 8-bit | `i8` | `u8` | -128..127 / 0..255 |
| 16-bit | `i16` | `u16` | -32,768..32,767 / 0..65,535 |
| 32-bit | `i32` | `u32` | -2.1B..2.1B / 0..4.2B |
| 64-bit | `i64` | `u64` | -9.2e18..9.2e18 / 0..1.8e19 |
| 128-bit | `i128` | `u128` | -1.7e38..1.7e38 / 0..3.4e38 |
| ç³»çµ±æ¶æ§‹ | `isize` | `usize` | å–æ±ºæ–¼ç›®æ¨™å¹³å° |

```rust
// æ•´æ•¸å­—é¢å€¼
let decimal = 98_222;       // åé€²åˆ¶
let hex = 0xff;             // åå…­é€²åˆ¶
let octal = 0o77;           // å…«é€²åˆ¶
let binary = 0b1111_0000;   // äºŒé€²åˆ¶
let byte = b'A';            // byte (u8 only)
```

### æµ®é»æ•¸å‹æ…‹ (Floating-Point Types)

| å‹æ…‹ | ç²¾ç¢ºåº¦ | ç¯„åœ |
|------|-------|------|
| `f32` | 6-7 ä½æœ‰æ•ˆæ•¸å­— | Â±1.2e-38 åˆ° Â±3.4e38 |
| `f64` | 15-17 ä½æœ‰æ•ˆæ•¸å­— | Â±2.2e-308 åˆ° Â±1.8e308 |

```rust
let x = 2.0;        // f64 (é è¨­)
let y: f32 = 3.0;    // f32
let z = 1.0e10;     // ç§‘å­¸è¨˜è™Ÿ

// æ•¸å€¼é‹ç®—
let sum = 5 + 10;
let difference = 95.5 - 4.3;
let product = 4 * 30;
let quotient = 56.7 / 32.2;
let remainder = 43 % 5;
```

### å¸ƒæ—å‹æ…‹ (Boolean Type)

```rust
let t = true;           // æ¨æ–·ç‚º bool
let f: bool = false;    // æ˜ç¢ºæ¨™è¨»å‹åˆ¥

// æ¢ä»¶åˆ¤æ–·
if t {
    println!("é€™æ˜¯çœŸçš„ï¼");
}
```

### å­—å…ƒå‹æ…‹ (Character Type)

Rust çš„ `char` å‹æ…‹æ˜¯ 4 å€‹å­—ç¯€å¤§å°ï¼Œè¡¨ç¤ºä¸€å€‹ Unicode ç´”é‡å€¼ã€‚

```rust
let c = 'z';
let z = 'â„¤';            // Unicode å­—å…ƒ
let heart_eyed_cat = 'ğŸ˜»'; // Emoji
let newline = '\n';     // è·³è„«å­—å…ƒ
```

### è¤‡åˆå‹æ…‹ (Compound Types)

#### å…ƒçµ„ (Tuples)

```rust
// å»ºç«‹å…ƒçµ„
let tup: (i32, f64, u8) = (500, 6.4, 1);

// è§£æ§‹
let (x, y, z) = tup;
println!("y çš„å€¼æ˜¯: {}", y);  // 6.4

// ä½¿ç”¨ç´¢å¼•
let five_hundred = tup.0;
let six_point_four = tup.1;
let one = tup.2;
```

#### é™£åˆ— (Arrays)

```rust
// å›ºå®šå¤§å°é™£åˆ—
let a = [1, 2, 3, 4, 5];
let months = ["ä¸€æœˆ", "äºŒæœˆ", "ä¸‰æœˆ", "å››æœˆ", "äº”æœˆ"];

// æ˜ç¢ºæŒ‡å®šå‹åˆ¥å’Œå¤§å°
let b: [i32; 5] = [1, 2, 3, 4, 5];

// åˆå§‹åŒ–ç›¸åŒå€¼çš„é™£åˆ—
let c = [3; 5];  // ç­‰åŒæ–¼ [3, 3, 3, 3, 3]

// è¨ªå•å…ƒç´ 
let first = a[0];
let second = a[1];

// ç·¨è­¯æ™‚æª¢æŸ¥è¶Šç•Œ
// let element = a[10];  // ç·¨è­¯éŒ¯èª¤
```

**ç·´ç¿’é¡Œ**

1. **æº«åº¦è½‰æ›**
   - ç·¨å¯«å‡½å¼ `celsius_to_fahrenheit` å’Œ `fahrenheit_to_celsius`
   - åœ¨ `main` ä¸­æ¸¬è©¦ 0Â°C å’Œ 32Â°F çš„è½‰æ›

2. **æ–æ³¢é‚£å¥‘æ•¸åˆ—**
   - ç·¨å¯«å‡½å¼ `fibonacci` è¨ˆç®—ç¬¬ n å€‹æ–æ³¢é‚£å¥‘æ•¸
   - ä½¿ç”¨è¿´åœˆæˆ–éè¿´å¯¦ç¾

3. **é™£åˆ—æ“ä½œ**
   - å»ºç«‹ä¸€å€‹åŒ…å« 5 å€‹å…ƒç´ çš„é™£åˆ—
   - ç·¨å¯«å‡½å¼è¨ˆç®—é™£åˆ—ç¸½å’Œ
   - æ‰¾å‡ºé™£åˆ—ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼
   - å˜—è©¦ä¿®æ”¹é™£åˆ—ä¸­çš„å…ƒç´ ï¼ˆæ³¨æ„å¯è®Šæ€§ï¼‰
